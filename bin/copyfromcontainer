#!/bin/bash
[ -z "$1" ] && echo "Please specify a directory or file to copy from container (ex. vendor, --all)" && exit

CURRENT_PATH="$(cd "$(dirname "$0")" && pwd)"
source $CURRENT_PATH/../conf/project.conf

if [ "$1" == "--all" ]; then
  docker cp $(docker-compose ps -q ${DOCKER_SERVICE_PHP}|awk '{print $1}'):/var/www/html/./ $SRC_PATH/
  echo "Completed copying all files from container to host"
else
  docker cp $(docker-compose ps -q ${DOCKER_SERVICE_PHP}|awk '{print $1}'):/var/www/html/$1 $SRC_PATH/
  echo "Completed copying $1 from container to host"
fi
